<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'></meta>
    <link rel='stylesheet' type='text/css' href='statprofiler.css'></link>
    <title>StatProfilerHTML - SVMinterface.jl</title>
  </head>
  <body>
    <div class='report-header'>
      <div class='backlink'>
        <a href='index.html'>Report index</a>
      </div>
      <div class='report-title'>
        StatProfilerHTML.jl report
      </div>
      <div class='generated-on'>
        Generated on Tue, 21 Mar 2023 14:49:22
      </div>
    </div>
    <table>
      <caption>File source code</caption>
      <thead>
        <tr>
          <th>Line</th>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>
      </thead>
      <tbody>
        <tr id='L1'>
          <td class='lineno'>1</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># A function aims to extract A, b, P, q from SVM problem formulation</span>
          </td>
        </tr>
        <tr id='L2'>
          <td class='lineno'>2</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># Date is stored in &#91;x | y&#93; forms, and stack all the data points as a matrix D</span>
          </td>
        </tr>
        <tr id='L3'>
          <td class='lineno'>3</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># C is the weighting between classification and maximum margin objectives</span>
          </td>
        </tr>
        <tr id='L4'>
          <td class='lineno'>4</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            <div class='call-sites'>
              1628 &#40;99 &#37;&#41;
              samples spent in SVMinterface
              <br />
              
              1628 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from eval
              <a href='boot.jl-53e1edf2d963bfba74ecb28f64d6f1bc69f2f145.html#L368'>line 368</a>
              <br />
            </div>
            
            <span class='code'>using Clarabel, SparseArrays, LinearAlgebra</span>
          </td>
        </tr>
        <tr id='L5'>
          <td class='lineno'>5</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function SVMinterface&#40;D, C&#41;   </span>
          </td>
        </tr>
        <tr id='L6'>
          <td class='lineno'>6</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L7'>
          <td class='lineno'>7</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    n &#61; size&#40;D, 2&#41; - 1  # &lt;-- n is the number of features</span>
          </td>
        </tr>
        <tr id='L8'>
          <td class='lineno'>8</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    l &#61; size&#40;D, 1&#41;      # &lt;-- l is the number of date points</span>
          </td>
        </tr>
        <tr id='L9'>
          <td class='lineno'>9</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    dim &#61; n &#43; l &#43;1      # &lt;-- A frequently appeared quantity</span>
          </td>
        </tr>
        <tr id='L10'>
          <td class='lineno'>10</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L11'>
          <td class='lineno'>11</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Construct P</span>
          </td>
        </tr>
        <tr id='L12'>
          <td class='lineno'>12</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    P1 &#61; sparse&#40;1.0I, n, n&#41;</span>
          </td>
        </tr>
        <tr id='L13'>
          <td class='lineno'>13</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    P2 &#61; spzeros&#40;n, dim - n&#41;</span>
          </td>
        </tr>
        <tr id='L14'>
          <td class='lineno'>14</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    P3 &#61; spzeros&#40;dim - n, dim - n&#41;</span>
          </td>
        </tr>
        <tr id='L15'>
          <td class='lineno'>15</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    P &#61; &#91;P1 P2; transpose&#40;P2&#41; P3&#93;  # Construct correctly -- tested</span>
          </td>
        </tr>
        <tr id='L16'>
          <td class='lineno'>16</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L17'>
          <td class='lineno'>17</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Construct q</span>
          </td>
        </tr>
        <tr id='L18'>
          <td class='lineno'>18</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    e1 &#61; zeros&#40;n &#43; 1&#41;</span>
          </td>
        </tr>
        <tr id='L19'>
          <td class='lineno'>19</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    e2 &#61; ones&#40;l&#41;</span>
          </td>
        </tr>
        <tr id='L20'>
          <td class='lineno'>20</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    q &#61; C*&#91;e1; e2&#93;                 # Construct correctly -- tested</span>
          </td>
        </tr>
        <tr id='L21'>
          <td class='lineno'>21</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L22'>
          <td class='lineno'>22</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Construct A</span>
          </td>
        </tr>
        <tr id='L23'>
          <td class='lineno'>23</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>16 &#40;1 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              16 &#40;100 &#37;&#41;
              samples spent calling
              <a href='array.jl-c1631fa04e0b9103c1e1a9f08ed1bde3f540598b.html#L583'>zeros</a>
              <br />
            </div>
            <span class='code'>    A1 &#61; zeros&#40;l, dim&#41;</span>
          </td>
        </tr>
        <tr id='L24'>
          <td class='lineno'>24</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    for i in range&#40;1, l&#41;  # the ith iteration corresponds to ith data pair</span>
          </td>
        </tr>
        <tr id='L25'>
          <td class='lineno'>25</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>62 &#40;4 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              62 &#40;100 &#37;&#41;
              samples spent calling
              <a href='abstractarray.jl-0dc70811d6263c361cbfb813e3c2134dbd03b434.html#L1241'>getindex</a>
              <br />
            </div>
            <span class='code'>        xi &#61; D&#91;i, 1:n&#93;</span>
          </td>
        </tr>
        <tr id='L26'>
          <td class='lineno'>26</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        yi &#61; D&#91;i,end&#93;</span>
          </td>
        </tr>
        <tr id='L27'>
          <td class='lineno'>27</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>9 &#40;1 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              9 &#40;100 &#37;&#41;
              samples spent calling
              <a href='arraymath.jl-d26c1bb466345cc1dbc1d41e2f1976614cc43604.html#L20'>*</a>
              <br />
            </div>
            <span class='code'>        Yi &#61; yi * xi</span>
          </td>
        </tr>
        <tr id='L28'>
          <td class='lineno'>28</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>18 &#40;1 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              11 &#40;61 &#37;&#41;
              samples spent calling
              <a href='abstractarraymath.jl-30343d705298d043d8f946d1208fb6dbd38de3b8.html#L217'>-</a>
              <br />
              7 &#40;39 &#37;&#41;
              samples spent calling
              <a href='abstractarray.jl-0dc70811d6263c361cbfb813e3c2134dbd03b434.html#L1344'>setindex&#33;</a>
              <br />
            </div>
            <span class='code'>        A1&#91;i, 1:n&#93; &#61; -Yi</span>
          </td>
        </tr>
        <tr id='L29'>
          <td class='lineno'>29</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        A1&#91;i, n&#43;1&#93; &#61; -yi</span>
          </td>
        </tr>
        <tr id='L30'>
          <td class='lineno'>30</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>12 &#40;1 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              12 &#40;100 &#37;&#41;
              samples spent calling
              <a href='array.jl-c1631fa04e0b9103c1e1a9f08ed1bde3f540598b.html#L968'>setindex&#33;</a>
              <br />
            </div>
            <span class='code'>        A1&#91;i, n&#43;1&#43;i&#93; &#61; -1</span>
          </td>
        </tr>
        <tr id='L31'>
          <td class='lineno'>31</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L32'>
          <td class='lineno'>32</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>56 &#40;3 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              56 &#40;100 &#37;&#41;
              samples spent calling
              <a href='array.jl-c1631fa04e0b9103c1e1a9f08ed1bde3f540598b.html#L583'>zeros</a>
              <br />
            </div>
            <span class='code'>    A2 &#61; zeros&#40;l, dim&#41;</span>
          </td>
        </tr>
        <tr id='L33'>
          <td class='lineno'>33</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    for i in range&#40;1, l&#41; </span>
          </td>
        </tr>
        <tr id='L34'>
          <td class='lineno'>34</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>13 &#40;1 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              13 &#40;100 &#37;&#41;
              samples spent calling
              <a href='array.jl-c1631fa04e0b9103c1e1a9f08ed1bde3f540598b.html#L968'>setindex&#33;</a>
              <br />
            </div>
            <span class='code'>        A2&#91;i, n&#43;1&#43;i&#93; &#61; -1</span>
          </td>
        </tr>
        <tr id='L35'>
          <td class='lineno'>35</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L36'>
          <td class='lineno'>36</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>545 &#40;33 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              545 &#40;100 &#37;&#41;
              samples spent calling
              <a href='sparsematrix.jl-ac15ec3bcfd5b9fca12590d51799e0f4251dbd1e.html#L781'>sparse</a>
              <br />
            </div>
            <span class='code'>    A1  &#61; sparse&#40;A1&#41;;</span>
          </td>
        </tr>
        <tr id='L37'>
          <td class='lineno'>37</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>827 &#40;51 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              827 &#40;100 &#37;&#41;
              samples spent calling
              <a href='sparsematrix.jl-ac15ec3bcfd5b9fca12590d51799e0f4251dbd1e.html#L781'>sparse</a>
              <br />
            </div>
            <span class='code'>    A2  &#61; sparse&#40;A2&#41;;</span>
          </td>
        </tr>
        <tr id='L38'>
          <td class='lineno'>38</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>70 &#40;4 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              70 &#40;100 &#37;&#41;
              samples spent calling
              <a href='sparsematrix.jl-ac15ec3bcfd5b9fca12590d51799e0f4251dbd1e.html#L3366'>vcat</a>
              <br />
            </div>
            <span class='code'>    A &#61; &#91;A1;A2&#93;          # Construct correctly -- tested</span>
          </td>
        </tr>
        <tr id='L39'>
          <td class='lineno'>39</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L40'>
          <td class='lineno'>40</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Construct b</span>
          </td>
        </tr>
        <tr id='L41'>
          <td class='lineno'>41</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    b1 &#61; -1* ones&#40;l&#41;</span>
          </td>
        </tr>
        <tr id='L42'>
          <td class='lineno'>42</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    b2 &#61; zeros&#40;l&#41;</span>
          </td>
        </tr>
        <tr id='L43'>
          <td class='lineno'>43</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    b &#61; &#91;b1; b2&#93;                  # Construct correctly -- tested</span>
          </td>
        </tr>
        <tr id='L44'>
          <td class='lineno'>44</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L45'>
          <td class='lineno'>45</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Construct cones</span>
          </td>
        </tr>
        <tr id='L46'>
          <td class='lineno'>46</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    cones &#61; &#91;Clarabel.NonnegativeConeT&#40;2*l&#41;&#93;</span>
          </td>
        </tr>
        <tr id='L47'>
          <td class='lineno'>47</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    </span>
          </td>
        </tr>
        <tr id='L48'>
          <td class='lineno'>48</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return P, q, A, b, cones  </span>
          </td>
        </tr>
        <tr id='L49'>
          <td class='lineno'>49</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Returns a tuple that contains all the data input required for clarabel solver</span>
          </td>
        </tr>
        <tr id='L50'>
          <td class='lineno'>50</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end </span>
          </td>
        </tr>
        <tr id='L51'>
          <td class='lineno'>51</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L52'>
          <td class='lineno'>52</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L53'>
          <td class='lineno'>53</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L54'>
          <td class='lineno'>54</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>

